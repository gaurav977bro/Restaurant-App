<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
		crossorigin="anonymous"></link>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
		crossorigin="anonymous"></script>
	<style>
.v {
	width: 250px;
	text-align: right;
	font-weight: bold;
	padding-left: 2opx;
	margin-left: 20px;
	clear: both;
	font-size: 18px;
	color: #8a2be2;
	text-shadow: 1px 1px 1px darkgrey;;
}

.label1 {
	width: 200px;
	float: right;
	font-weight: bold;
	text-shadow: 1px 1px 1px darkGrey;
	margin-right: 75px;
	box-shadow: 3px 3px 3px 3px lightGrey;
}

.box {
	display: flex;
}
</style>

	<script>

function checkPassPwd1() {
	var field = $('#frmPassword\\:password');
	var button= $('#frmPassword\\:button1');

	if (field.attr('type') === 'password') {
	   field.attr('type', 'text');
	   button.removeClass('fas fa-eye-slash');
	   button.addClass('fas fa-eye');
	} else {
	   field.attr('type', 'password');
	   button.removeClass('fas fa-eye');
	   button.addClass('fas fa-eye-slash');
	}
}

function checkPassPwd2() {
	var field = $('#frmPassword\\:confirmpassword');
	var button= $('#frmPassword\\:button1');

	if (field.attr('type') === 'password') {
	   field.attr('type', 'text');
	   button.removeClass('fas fa-eye-slash');
	   button.addClass('fas fa-eye');
	} else {
	   field.attr('type', 'password');
	   button.removeClass('fas fa-eye');
	   button.addClass('fas fa-eye-slash');
	}
}

</script>

</h:head>

<h:body>
	<ui:include src="CustomerMenu.xhtml"></ui:include>
	<div class="box">





		<div class="row"
			style="margin-top: 0px; margin-left: 30px; width: 600px; height: 350px; background-color: white;">


			<h:form id="frmPassword">


				<div class="contents" style="margin-left: 20px;">


					<br /> <br />
					<h:outputText class="v" value="Customer username:" />
					<p:inputText size="40" styleClass="label1"
						style="text-align: center;  box-shadow: 2px 2px 2px 2px darkGrey;"
						value="#{customerInfo.cusUsername}" readonly="true"
						disabled="true">

					</p:inputText>

					<br /> <br /> <br />
					<h:outputText class="v" value="Old password:" />
					<p:inputText id="oldpassword" styleClass="label1" size="40"
						required="true" requiredMessage="Please fill" label="Old password">
						<f:validator
							validatorId="com.java.validations.OldPasswordValidation"></f:validator>

					</p:inputText>
					<br />
					<div style="margin-left: 280px; margin-top: 10px;">
						<h:message for="oldpassword"
							style="color:red;padding-top: 10px;  " />
					</div>

					<br />
					<h:outputText class="v" value="New password:" />
					<p:password id="password" match="confirmpassword" required="true"
						styleClass="label1" size="40" feedback="true" label="New password"
						requiredMessage="Please enter new password" 
						value="#{customerDAO.newPassword}">
						<f:validator validatorId="com.java.validations.PasswordValidation" />
					</p:password>
					<!-- <button  type="button"
						onclick="checkPassPwd1()">
						<i class="show-pass fa fa-eye fa-lg"></i>
					</button> -->

					<br /> <br />
					 
					<h:message for="password"
						style="color:red; float: right; padding-right: 90px;" />

					<br />
					<h:outputText class="v" value="Confirm new password:" />
					<p:password id="confirmpassword" styleClass="label1" size="40"
						feedback="true" required="true"
						requiredMessage="Please confirm new password"
						label="Confirm password" />
					<br /> <br />
					<h:message for="confirmpassword"
						style="color:red; float: right; padding-right: 74px;" />

					<br /> <br />
					<div style="padding-left: 170px;">
						<h:commandButton id="button1"
							style="width:100px; height:40px;     text-shadow:2px 2px 2px black;"
							action="#{customerDAO.changePassword(customerInfo, customerDAO.newPassword)}"
							value="Confirm" class="btn btn-danger" />
					</div>



					<br /> <br />
				</div>
			</h:form>
		</div>


	</div>
</h:body>

</html>